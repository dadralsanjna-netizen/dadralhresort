{% extends "dashboard_base.html" %} {% load static %} {% block dashboard_content
%}
<div class="dashboard-header">
  <div class="header-title">Welcome, {{ request.user.username|title }}! ðŸ‘‹</div>
</div>

<div class="dashboard-cards">
  <div class="dashboard-card">
    <div class="card-content">
      <h3>Total Rooms</h3>
      <div class="card-value">{{ total_rooms }}</div>
    </div>
    <div class="card-icon">
      <i class="fas fa-bed"></i>
    </div>
  </div>
  <div class="dashboard-card">
    <div class="card-content">
      <h3>Active Bookings</h3>
      <div class="card-value">{{ total_bookings }}</div>
    </div>
    <div class="card-icon">
      <i class="fas fa-calendar-check"></i>
    </div>
  </div>
  <div class="dashboard-card">
    <div class="card-content">
      <h3>Gallery Images</h3>
      <div class="card-value">{{ total_gallery }}</div>
    </div>
    <div class="card-icon">
      <i class="fas fa-images"></i>
    </div>
  </div>
</div>

<div class="dashboard-section">
  <div class="section-header">
    <h2>Recent Activity</h2>
    <button class="clear-btn" onclick="clearActivity()">
      <i class="fas fa-trash-alt"></i> Clear
    </button>
  </div>
  <ul class="activity-list">
    {% for activity in recent_activities %}
    <li>
      <div class="activity-content">
        <div class="activity-icon">
          <i class="{{ activity.icon }}"></i>
        </div>
        <div class="activity-info">
          <div class="activity-text">{{ activity.text }}</div>
        </div>
      </div>
      <div class="activity-date">{{ activity.time|date:"d M Y" }}</div>
    </li>
    {% empty %}
    <li class="no-activity">No recent activity to show</li>
    {% endfor %}
  </ul>
</div>

<style>
  .dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
  }

  .header-title {
    font-size: 2rem;
    color: #2c1e1e;
    font-family: "Playfair Display", serif;
  }

  .dashboard-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 25px;
    margin-bottom: 30px;
  }

  .dashboard-card {
    background: white;
    border-radius: 12px;
    padding: 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
    border: 1px solid rgba(198, 166, 100, 0.1);
  }

  .dashboard-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(44, 30, 30, 0.1);
    border-color: rgba(198, 166, 100, 0.3);
  }

  .card-content h3 {
    font-size: 1.1rem;
    color: #8b6b3d;
    margin-bottom: 8px;
    font-weight: 500;
  }

  .card-value {
    font-size: 2rem;
    font-weight: 600;
    color: #2c1e1e;
  }

  .card-icon {
    font-size: 2rem;
    width: 60px;
    height: 60px;
    background: rgba(198, 166, 100, 0.1);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #c6a664;
  }

  .dashboard-section {
    background: white;
    border-radius: 12px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(44, 30, 30, 0.04);
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .section-header h2 {
    font-size: 1.4rem;
    color: #2c1e1e;
    margin: 0;
    font-weight: 600;
  }

  .clear-btn {
    background: none;
    border: none;
    color: #c6a664;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
  }

  .clear-btn:hover {
    background: rgba(198, 166, 100, 0.1);
    color: #8b6b3d;
  }

  .activity-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .activity-list li {
    padding: 15px;
    border-bottom: 1px solid rgba(139, 107, 61, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .activity-list li:hover {
    background: rgba(198, 166, 100, 0.05);
  }

  .activity-list li:last-child {
    border-bottom: none;
  }

  .activity-content {
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .activity-icon {
    width: 35px;
    height: 35px;
    background: rgba(198, 166, 100, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #c6a664;
  }

  .activity-text {
    color: #2c1e1e;
    font-size: 0.95rem;
    font-weight: 500;
  }

  .activity-date {
    color: #8b6b3d;
    font-size: 0.85rem;
  }

  .no-activity {
    text-align: center;
    color: #8b6b3d;
    padding: 30px 0;
    font-style: italic;
  }

  @media (max-width: 768px) {
    .dashboard-cards {
      grid-template-columns: 1fr;
    }

    .dashboard-card {
      padding: 20px;
    }

    .card-icon {
      width: 50px;
      height: 50px;
      font-size: 1.5rem;
    }

    .card-value {
      font-size: 1.75rem;
    }
  }
</style>

<script>
  function clearActivity() {
    const activityList = document.querySelector(".activity-list");
    activityList.innerHTML =
      '<li class="no-activity">No recent activity to show</li>';
  }
</script>
{% endblock %}
